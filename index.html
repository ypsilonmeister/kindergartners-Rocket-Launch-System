<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

    <link rel="manifest" href="manifest.json" />
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://kit.fontawesome.com/54ccae21a7.js" crossorigin="anonymous"></script>

    <!-- This is a custom title. It appears above the page -->
    <title>おしたくタイムライン</title>

    <!-- The stylesheet (unchanged)  -->
    <link rel="stylesheet" href="style.css">

</head>

<!-- Page layout  -->

<body>
    <!-- Main content  -->
    <article>
        <div id="contents">
            <!-- Timeline element (unchanged)-->
            <div id="timeline-info">
                <span id="startTime"></span>
                <div id="time-bar">
                    <div id="time-indicator">
                        <span id="currentTime"></span>
                    </div>
                </div>
                <span id="goalTime"></span>
            </div>
            <div id="timeline"></div>

            <!--Pie chart  -->
            <div id="charts">
                <div id="piechart"></div>
                <div id="barchart"></div>
            </div>
        </div>
        <footer>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                <div style="display: flex; align-items: center; gap: 8px;">
                    <label for="sequenceMode" style="font-weight:bold; font-size: 0.9rem;">モード：</label>
                    <select id="sequenceMode" onchange="changeSequenceMode()" style="font-size: 0.9rem; padding: 2px 8px;">
                        <option value="morning">あさ</option>
                        <option value="after">おかえり</option>
                    </select>
                </div>
                <button onclick="openSettings();" id="settingButton" class="save setting-button">⚙</button>
            </div>
            <div class="nav-controls">
                <button onclick="prevChart();" id="prevButton" class="styled " disabled>前に戻る</button>
                <button onclick="start();" id="startButton" class="styled">シーケンススタート</button>
                <button onclick="nextChart();" id="nextButton" class="styled" disabled><span id='current'></span>
                    Completed</button>
                <button onclick="window.location.reload();" id="reloadButton" class="styled" disabled>リロード</button>
            </div>
        </footer>
    </article>

    <!-- Settings dialog. This section is completely unchanged.  -->
    <dialog>
        <section>
            <header>
                <span class="center">Settings</span><button id="close" class="modal-close">&times;</button>
            </header>
            <div id="settingContent">
                <form>
                    <input type="checkbox" name="holiday" id="holiday" />
                    <label for="holiday">
                        <span>休み</span>
                    </label>
                </form>
                <div id="goalTimeSetting" style="margin-top:10px;">
                    目標時刻:
                    <input type="time" id="goalTimeInput">
                </div>
                <button onclick="clearHistory();" class="danger" style="margin-top:10px;">履歴クリア</button>
            </div>
            <footer>
                <div class=center>
                    <button onclick="closeSettings();" class="styled">Close</button>
                    <button onclick="saveSettings();" class="styled save">Save</button>
                </div>
            </footer>
        </section>
    </dialog>

    <!-- The application script  -->
    <script src="app.js"></script>
</body>

<!-- End of the HTML document.  -->

</html>